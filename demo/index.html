<!doctype html>
<html lang="en-GB">
<head>
    <meta charset="utf-8">
    <style>
        body {
            background: #fafafa;
        }
        demo-section{ display: block; border: blueviolet dashed 1px; border-radius: 1rem; padding: 1rem; margin: 1rem; }
    </style>
    <link href="https://unpkg.com/prismjs@1.23.0/themes/prism.css" rel="stylesheet" />

</head>
<body>

<demo-section>
    <slotted-element src="embedded.html"></slotted-element>
</demo-section>

<demo-section>
    <slotted-element src="https://badUrl.heck">
        <p slot="loading" hidden>Loading... ‚è≥ </p>
        <p slot="error" hidden>Something went wrong. üò≠ </p>
    </slotted-element>
</demo-section>


<demo-section>
    <slotted-element src="embedded.html">
        <fieldset>
            <legend> Content would be placed inside </legend>
            <p slot="loading" hidden> Loading... ‚è≥ </p>
            <p slot="error" hidden> What could be wrong? </p>
            <p slot="loaded" hidden> Replaced with content of <b>embedded.html</b> </p>
        </fieldset>
    </slotted-element>
</demo-section>


<demo-section>
    <slotted-element src="doc.json">
        <fieldset>
            <legend> <b>doc.json</b> as table </legend>
            <p slot="loaded" hidden>  </p>
        </fieldset>
    </slotted-element>
</demo-section>



<demo-section>
    <slotted-element src="dwarfs.json">
        <fieldset>
            <legend> array <b>dwarfs.json</b> as table </legend>
            <p slot="loaded" hidden>  </p>
        </fieldset>
    </slotted-element>
</demo-section>




<script type="module">
    for( let el of document.querySelectorAll('demo-section') )
        el.initialHTML = el.innerHTML;
</script>
<script type="module" src="../slotted-element.js"></script>

<script src="https://unpkg.com/prismjs@1.23.0/components/prism-core.min.js"></script>
<script src="https://unpkg.com/prismjs@1.23.0/components/prism-markup.min.js"></script>
<script src="https://unpkg.com/prismjs@1.23.0/plugins/autoloader/prism-autoloader.min.js"></script>
<script type="module">
    class DemoSection extends HTMLElement
    {
        connectedCallback()
        {   const cr = t  => document.createElement( t )
            , html = Prism.highlight( this.initialHTML, Prism.languages.html, 'html' )
            , pre = cr( 'pre' );
            pre.innerHTML = `<code class="language-markup" >${html}</code>`;
            this.insertBefore( pre, this.firstChild );
        }
    }
    window.customElements.define( 'demo-section', DemoSection);
</script>
</body>
</html>
